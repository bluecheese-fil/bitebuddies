<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Signup </title>

    <link rel="stylesheet" href="/css/mybuttons.css">
    <link rel="stylesheet" href="/css/signup.css">

    <!-- external javascript functions -->
    <script src="/js/signup.js"> </script>
  </head>

  <body onload="loadSignup()">
    <div class="logodiv">
      <img src="/logo/logo.png" class="logosize" alt="">
    </div>
    <div class="formposition" id="transformeddiv">
      <form id="signupform" action="/php/signup.php" method="post">
        Nome: <span class="errore">*</span> <br>
        <input type="text" name="nome" id="nome" onblur="checkText(this.id)" oninput="checkText(this.id)" required> <br>
        <div class="errore" id="errorenome" hidden> Campo obbligatorio </div>
        Cognome: <span class="errore">*</span> <br>
        <input type="text" name="cognome" id="cognome" onblur="checkText(this.id)" oninput="checkText(this.id)" required> <br>
        <div class="errore" id="errorecognome" hidden> Campo obbligatorio </div>
        Email: <span class="errore">*</span> <br>
        <input type="email" name="email_1" id="email_1" onblur="checkText(this.id)" oninput="checkText(this.id)" required> <br>
        <div class="errore" id="erroreemail_1" hidden> Campo obbligatorio </div>
        <div class="errore" id="invalidaemail" hidden> L'email inserita non Ã¨ valida</div>
        <div class="errore" id="emailtaken" hidden> Email presa</div>
        Ripeti email: <span class="errore">*</span> <br>
        <input type="text" name="email_2" id="email_2" autocomplete="off" readonly onfocus="this.readOnly = false" oninput="checkText(this.id)" onblur="this.readOnly = true; checkText(this.id)" required> <br>
        <div class="errore" id="erroreemail_2" hidden> Campo obbligatorio </div>
        <div class="errore" id="diversaemail" hidden> Le due email non combaciano</div>
        Password: <span class="errore">*</span> <br>
        <input type="password" name="password_1" id="password_1" onblur="checkText(this.id)" oninput="checkText(this.id)" required> <br>
        <div class="errore" id="errorepassword_1" hidden> Campo obbligatorio </div>
        <div class="errore" id="passwordinvalida" hidden> La password deve essere di almeno 8 caratteri, di cui almeno 2 lettere maiuscole, 2 minuscole, 2 caratteri speciali e 2 numeri</div>
        <div class="errore" id="charunsupported" hidden> Autofilled by js </div>
        Ripeti password: <span class="errore">*</span> <br>
        <input type="password" name="password_2" id="password_2" onblur="checkText(this.id)" oninput="checkText(this.id)" required> <br>
        <div class="errore" id="errorepassword_2" hidden> Campo obbligatorio </div>
        <div class="errore" id="diversapassword" hidden> Le due password non combaciano</div>
        Telefono: <span class="errore">*</span> <br>
        <input type="tel" name="tel" id="tel" onblur="checkText(this.id)" oninput="checkText(this.id)" required pattern="([+]39|0039)?[0-9]{10}"> <br>
        <div class="errore" id="erroretel" hidden> Campo obbligatorio </div>
        <div class="errore" id="telinvalido" hidden> Numero di telefono non valido </div>
        <hr>
        Indirizzo: <br>
        <input type="text" name="indirizzo" id="indirizzo" onblur="checkIndirizzo()" oninput="checkIndirizzo()"> <br>
        <div class="leftline"> <span class="itemtext"> CAP: </span> <input class="littleinput" type="text" name="cap" id="cap" maxlength="5" minlength="5" onblur="checkIndirizzo()" oninput="checkIndirizzo()"> </div>
        <div class="rightline"> <span class="itemtext"> Citta: </span> <input class="littleinput" type="text" name="citta" id="citta" onblur="checkIndirizzo()" oninput="checkIndirizzo()"> </div>
        <div class="errore" id="errorindirizzo" hidden> Indirizzo non completo </div>
        <div class="errore" id="capinvalida" hidden> Cap non corretto </div>
        <button type="button" onclick="verifyForm()"> Crea account </button>

        <!-- Even if there's multiple errore types, I've calculated the size of this form with a single error for each item (max)
        This is beacuse these errors will never coexists...
        When multiple errors occurs, I'd rather not give multiple errors to the attacker! The js and hmtl are correct, therefore they
        must have changed it to have such errors... I'd rather keep them waiting and wasting time than get useful information about the serveside script -->
      </form>
    </div>

    <div>
      I campi segnati con <span class="errore"> * </span> sono obbligatori.
    </div> 
  </body>
</html>